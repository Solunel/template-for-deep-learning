# config.yaml (V2.4 - Windows友好，无歧义)
# ===================================================================
# 预设配置示例 (请从中选择一套，复制到下方的主配置区)
#
# --- a) 轻量级快速测试配置 (适用于CPU或小型GPU, Windows用户推荐) ---
# hparams:
#   batch_size: 16
#   num_workers: 0  # 在Windows上必须为0，否则可能卡死
#   total_steps: 1000
# ...
#
# --- b) 标准性能配置 (适用于Linux/macOS下的主流GPU) ---
# hparams:
#   batch_size: 64
#   num_workers: 4
#   total_steps: 100000
# ...
# ===================================================================
seed: 42
paths:
  data_root: './data'
  checkpoint_dir: './checkpoints/experiment_001'
  log_dir: './logs/experiment_001'
  output_path: './prediction.csv'
  # (新增) 持久化类别映射文件的路径
  class_map_file: 'class_map.json'
hparams:
  learning_rate: 0.001
  batch_size: 32
  num_workers: 0  # (修改) 默认值为0，对Windows用户更安全
                   # (Linux/macOS用户可根据CPU核心数适当增加, e.g., 4, 8)
  total_steps: 20000
  warmup_steps: 200
  valid_steps: 1000
  primary_metric: 'accuracy'
  primary_metric_mode: 'max'
  enable_early_stopping: true
  patience: 5
data_params:
  image_size: 224
model_params:
  # (修改) 彻底移除 n_classes，它的唯一来源是数据集
  pretrained: true
  dropout_rate: 0.1