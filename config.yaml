# config.yaml (V2.5 - "大道至简")

# ===================================================================
# 核心原则: 保持扁平，依靠清晰的命名来区分参数。
# ===================================================================

seed: 42

# 1. 文件路径配置
paths:
  data_root: './data'
  checkpoint_dir: './checkpoints/experiment_final'
  log_dir: './logs/experiment_final'
  output_path: './prediction.csv'
  # 类别映射文件的名称，将保存在 checkpoint_dir 中
  class_map_file: 'class_map.json'

# 2. 所有实验参数 (params)
params:
  # --- 训练控制 ---
  learning_rate: 0.001
  batch_size: 32
  total_steps: 20000
  warmup_steps: 200
  valid_steps: 1000

  # --- 评估与早停 ---
  primary_metric: 'accuracy'      # 用于早停和选择最佳模型的核心指标
  primary_metric_mode: 'max'      # 'max' (越大越好) 或 'min' (越小越好)
  enable_early_stopping: true
  patience: 5

  # --- 数据加载 ---
  num_workers: 0  # (重要!) Windows用户建议保持为0, Linux/macOS用户可根据CPU核心数适当增加

  # --- 数据处理 ---
  image_size: 224

  # --- 模型结构 ---
  # n_classes 将从数据动态获取，无需在此配置
  pretrained: true
  dropout_rate: 0.1